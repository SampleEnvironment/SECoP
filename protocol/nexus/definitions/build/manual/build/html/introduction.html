


<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1.1. NeXus Introduction &#8212; nexus v2024.02 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css?v=87629129" />
    <link rel="stylesheet" type="text/css" href="_static/details_summary_hide.css?v=30df4bca" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" href="_static/blockquote.css" type="text/css" />
    <link rel="stylesheet" href="_static/rubric.css" type="text/css" />
    <script src="_static/documentation_options.js?v=04096e4a"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Representation of data examples" href="preface.html" />
    <link rel="prev" title="1. NeXus: User Manual" href="user_manual.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="preface.html" title="Representation of data examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="user_manual.html" title="1. NeXus: User Manual"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">nexus v2024.02 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="user_manual.html" accesskey="U"><span class="section-number">1. </span>NeXus: User Manual</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1.1. </span>NeXus Introduction</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="nexus-introduction">
<span id="introduction"></span><h1><span class="section-number">1.1. </span>NeXus Introduction<a class="headerlink" href="#nexus-introduction" title="Link to this heading">¶</a></h1>
<p id="index-0">NeXus <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> is an effort by an international group of scientists
<a class="reference internal" href="motivations.html#motivationsfornexus"><span class="std std-ref">motivated</span></a>
to define a common data exchange format for neutron, X-ray, and muon experiments.
NeXus is built on top of the scientific data format HDF5 and adds
domain-specific rules for organizing data within HDF5 files in addition
to a dictionary of well-defined domain-specific field names. The NeXus
data format has three purposes:</p>
<ol class="arabic simple">
<li><p><em>raw data</em>:
NeXus defines a format that can
serve as a container for all relevant data associated with a scientific
instrument or beamline. This is a very important use case. This includes
the case of streaming data acquisition, where time stamped data are logged.</p></li>
<li><p><em>processed data</em>:
NeXus also defines standards for processed data. This is data which has underwent some form of data
reduction or data analysis. NeXus allows storing the results of such processing together with
documentation about how the processed data was generated.</p></li>
<li><p><em>standards</em>:
NeXus defines standards in
the form of <em>application definitions</em> for the exchange of data
between applications. NeXus provides standards for both raw and processed data.</p></li>
</ol>
<p>A community of scientists and computer programmers working in neutron
and synchrotron facilities around the world came to the conclusion that a
common data format would fulfill a valuable function in the scattering community. As
instrumentation becomes more complex and data visualization becomes more challenging,
individual scientists, or even institutions, find it difficult to keep up with new
developments. A common data format makes it easier, both to exchange experimental results
and to exchange ideas about how to analyze them. It promotes greater cooperation in software
development and stimulates the design of more sophisticated visualization tools.
Additional background information is given in the chapter titled <a class="reference internal" href="history.html#history"><span class="std std-ref">Brief history of NeXus</span></a>.</p>
<p>This section is designed to give a brief introduction to NeXus, the data format and tools
that have been developed in response to these needs. It explains what a modern data format
such as NeXus is and how to write simple programs to read and write NeXus files.</p>
<p>The programmers who produce intermediate files for
storing analyzed data should agree on simple interchange
<span class="target" id="index-1"></span>rules.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><em>J. Appl. Cryst.</em> (2015). <strong>48</strong>, 301-305
(<a class="reference external" href="https://doi.org/10.1107/S1600576714027575">https://doi.org/10.1107/S1600576714027575</a>)</p>
</aside>
</aside>
<section id="what-is-nexus">
<span id="whatisnexus"></span><h2><span class="section-number">1.1.1. </span>What is NeXus?<a class="headerlink" href="#what-is-nexus" title="Link to this heading">¶</a></h2>
<p>The NeXus data format has four components:</p>
<dl class="simple">
<dt><a class="reference internal" href="#introduction-designprinciples"><span class="std std-ref">A set of design principles</span></a></dt><dd><p>to help people understand what is in the data files.</p>
</dd>
<dt><a class="reference internal" href="#introduction-datastorageobjects"><span class="std std-ref">A set of data storage objects</span></a></dt><dd><p>(<a class="reference internal" href="classes/base_classes/index.html#base-class-definitions"><span class="std std-ref">Base Class Definitions</span></a>
and <a class="reference internal" href="classes/applications/index.html#application-definitions"><span class="std std-ref">Application Definitions</span></a>)
to allow the development of portable analysis software.</p>
</dd>
<dt><a class="reference internal" href="#introduction-setofsubroutines"><span class="std std-ref">A set of subroutines</span></a></dt><dd><p>(<a class="reference internal" href="utilities.html#utilities"><span class="std std-ref">Utilities</span></a>
and <a class="reference internal" href="examples/index.html#examples"><span class="std std-ref">examples</span></a>)
to make it easy to read and write NeXus data files.</p>
</dd>
<dt><a class="reference internal" href="#introduction-community"><span class="std std-ref">A Scientific Community</span></a></dt><dd><p>to provide the scientific data, advice, and continued involvement
with the NeXus standard. NeXus provides a forum for the scientific
community to exchange ideas in data storage.</p>
</dd>
</dl>
<p>In addition, NeXus relies on a set of low-level file formats to actually
store NeXus files on physical media. Each of these components are described in more
detail in the <a class="reference internal" href="fileformat.html#fileformat"><span class="std std-ref">Physical File format</span></a> section.</p>
<p>The NeXus Application-Programmer Interface
<span class="target" id="index-2"></span>(NAPI), which
provides the set of subroutines for reading and writing NeXus data files,
is described briefly in <a class="reference internal" href="introduction-napi.html#introduction-napi"><span class="std std-ref">NAPI: The NeXus Application Programming Interface</span></a>.
(Further details are provided in the <a class="reference internal" href="napi.html#napi"><span class="std std-ref">NAPI</span></a> chapter.)</p>
<p>The principles guiding the design and implementation of the NeXus standard
are described in the <a class="reference internal" href="design.html#design"><span class="std std-ref">NeXus Design</span></a> chapter.</p>
<p>Base classes, which comprise the data storage objects used in NeXus data files,
are detailed in the <a class="reference internal" href="classes/base_classes/index.html#base-class-definitions"><span class="std std-ref">Base Class Definitions</span></a> chapter.</p>
<p>Additionally, a brief list describing the set of NeXus Utilities
available to browse, validate, translate, and visualise
NeXus data files is provided in the <a class="reference internal" href="utilities.html#utilities"><span class="std std-ref">NeXus Utilities</span></a> chapter.</p>
<section id="a-set-of-design-principles">
<span id="introduction-designprinciples"></span><h3><span class="section-number">1.1.1.1. </span>A Set of Design Principles<a class="headerlink" href="#a-set-of-design-principles" title="Link to this heading">¶</a></h3>
<p id="index-3">NeXus data files contain four types of entity:
groups,
fields,
attributes, and
links.</p>
<dl id="index-4">
<dt><a class="reference internal" href="design.html#design-groups"><span class="std std-ref">Groups</span></a></dt><dd><p>Groups are like folders that can contain a number of fields
and/or other groups.</p>
</dd>
<dt><a class="reference internal" href="design.html#design-fields"><span class="std std-ref">Fields</span></a></dt><dd><p>Fields can be scalar values or multidimensional arrays of a
variety of sizes (1-byte, 2-byte, 4-byte, 8-byte) and types
(characters, integers, floats).  Fields are
represented as HDF5 <em>datasets</em>.</p>
</dd>
</dl>
<dl class="simple" id="index-6">
<dt><a class="reference internal" href="design.html#design-attributes"><span class="std std-ref">Attributes</span></a></dt><dd><p>Extra information required to
describe a particular group or field,
such as the data units,
can be stored as a data attribute.  Attributes can also
be given at the file level of an HDF5 file.</p>
</dd>
</dl>
<dl class="simple" id="index-7">
<dt><a class="reference internal" href="design.html#design-links"><span class="std std-ref">Links</span></a></dt><dd><p>Links are used to represent the same information in different places.</p>
</dd>
</dl>
<p>In fact, a NeXus file can be viewed as a computer file system. Just as files
are stored in folders (or subdirectories) to make them easy to locate, so NeXus
fields are stored in groups. The group <span class="target" id="index-8"></span>hierarchy
is designed to make it easy
to navigate a NeXus file.</p>
<section id="example-of-a-nexus-file">
<span id="introduction-examplefile"></span><h4>Example of a NeXus File<a class="headerlink" href="#example-of-a-nexus-file" title="Link to this heading">¶</a></h4>
<p id="index-9">The following diagram shows an example of a NeXus data file represented as a
tree structure.</p>
<div class="compound">
<p class="rubric" id="figure-example-nexus-file">Example of a NeXus Data File</p>
<a class="reference internal image-reference" href="_images/Hierarchy.png"><img alt="_images/Hierarchy.png" src="_images/Hierarchy.png" style="width: 80%;" />
</a>
</div>
<p>Note that each field is identified by a name, such as <code class="docutils literal notranslate"><span class="pre">counts</span></code>,
but each group is identified both by a name and, after a colon as a
delimiter, the class type, e.g., <code class="docutils literal notranslate"><span class="pre">monitor:NXmonitor</span></code>).
The class types, which all begin with
<code class="docutils literal notranslate"><span class="pre">NX</span></code>, define the sort of fields that the group should contain, in this
case, counts from a beamline monitor. The hierarchical design, with data
items nested in groups, makes it easy to identify information if you are
browsing through a file.</p>
</section>
<section id="important-classes">
<span id="introduction-importantclasses"></span><h4>Important Classes<a class="headerlink" href="#important-classes" title="Link to this heading">¶</a></h4>
<p>Here are some of the important classes found in nearly all NeXus files. A
complete list can be found in the <a class="reference internal" href="design.html#design-nexusclasses"><span class="std std-ref">NeXus Base Classes</span></a> chapter.
A complete list of <em>all</em> NeXus classes may be found in
the <a class="reference internal" href="classes/index.html#all-class-definitions"><span class="std std-ref">NeXus Class Definitions</span></a> chapter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">NXentry</span></code>
is the only class required in a valid NeXus data file.</p>
</div>
<dl class="simple" id="index-10">
<dt><a class="reference internal" href="classes/base_classes/NXentry.html#nxentry"><span class="std std-ref">NXentry</span></a></dt><dd><p><em>Required:</em>
The top level of any NeXus file contains one or more groups with the
class <code class="docutils literal notranslate"><span class="pre">NXentry</span></code>.
These contain all the data that is required to
describe an experimental run or scan. Each
<code class="docutils literal notranslate"><span class="pre">NXentry</span></code> typically contains a number of
groups describing sample information (class
<code class="docutils literal notranslate"><span class="pre">NXsample</span></code>), instrument details (class
<code class="docutils literal notranslate"><span class="pre">NXinstrument</span></code>), and monitor counts (class
<code class="docutils literal notranslate"><span class="pre">NXmonitor</span></code>).</p>
</dd>
</dl>
<dl class="simple" id="index-11">
<dt><a class="reference internal" href="classes/base_classes/NXdata.html#nxdata"><span class="std std-ref">NXdata</span></a></dt><dd><p>Each <code class="docutils literal notranslate"><span class="pre">NXentry</span></code> group may contain one or more <code class="docutils literal notranslate"><span class="pre">NXdata</span></code> groups.
These groups contain the experimental results
in a self-contained way, i.e., it should be possible to
generate a sensible <span class="target" id="index-12"></span>plot
of the data from the information
contained in each <code class="docutils literal notranslate"><span class="pre">NXdata</span></code> group. That means it
should contain the axis labels and titles as well as the
data.</p>
</dd>
</dl>
<dl class="simple" id="index-13">
<dt><a class="reference internal" href="classes/base_classes/NXsample.html#nxsample"><span class="std std-ref">NXsample</span></a></dt><dd><p>A <code class="docutils literal notranslate"><span class="pre">NXentry</span></code> group will often contain a group with
class <code class="docutils literal notranslate"><span class="pre">NXsample</span></code>.
This group contains information pertaining to
the sample, such as its chemical composition, mass, and
environment variables (temperature, pressure, magnetic
field, etc.).</p>
</dd>
</dl>
<dl id="index-14">
<dt><a class="reference internal" href="classes/base_classes/NXinstrument.html#nxinstrument"><span class="std std-ref">NXinstrument</span></a></dt><dd><p>There might also be a group with
class <code class="docutils literal notranslate"><span class="pre">NXinstrument</span></code>. This is designed to encapsulate all the
instrumental information that might be relevant to a
measurement, such as flight paths, collimation, chopper
frequencies, etc.</p>
<div class="compound">
<p class="rubric" id="figure-nxinstrument-excerpt"><code class="docutils literal notranslate"><span class="pre">NXinstrument</span></code> excerpt</p>
<a class="reference internal image-reference" href="_images/NXinstrument.png"><img alt="_images/NXinstrument.png" src="_images/NXinstrument.png" style="width: 50%;" />
</a>
</div>
<p>Since an instrument can include several beamline components each
defined by several parameters, the components are each specified by a separate group.
This hides the complexity from generic file browsers, but makes the
information available in an intuitively obvious way if it is required.</p>
</dd>
</dl>
</section>
<section id="simple-example">
<span id="introduction-simpleexample"></span><h4>Simple Example<a class="headerlink" href="#simple-example" title="Link to this heading">¶</a></h4>
<p id="index-15">NeXus data files do not need to be complicated.
In fact, the following
diagram shows an extremely simple NeXus file
(in fact, the simple example shows the minimum information necessary
for a NeXus data file)
that could be used to transfer
data between programs. (Later in this section, we show how to write and
read this simple example.)</p>
<div class="compound">
<blockquote>
<div></div></blockquote>
<p class="rubric" id="fig-simple-example">Example structure of a simple data file</p>
<a class="reference internal image-reference" href="_images/Simple.png"><img alt="_images/Simple.png" src="_images/Simple.png" style="width: 60%;" />
</a>
</div>
<p>This illustrates the fact that the structure of NeXus files is
extremely flexible. It can accommodate very complex instrumental
information, if required, but it can also be used to store very simple data
sets. Here is the structure of a very simple NeXus data file
(<a class="reference download internal" download="" href="_downloads/50d1f47652490a857dfedc1f3e2bcb6b/verysimple.nx5"><code class="xref download docutils literal notranslate"><span class="pre">examples/verysimple.nx5</span></code></a>):</p>
<div class="compound">
<blockquote>
<div></div></blockquote>
<p class="rubric" id="fig-verysimple-structure">Structure of a very simple NeXus Data file</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>verysimple.nx5 : NeXus data file
<span class="linenos"> 2</span>  @default = &quot;entry&quot;
<span class="linenos"> 3</span>  entry:NXentry
<span class="linenos"> 4</span>    @NX_class = NXentry
<span class="linenos"> 5</span>    @default = &quot;data&quot;
<span class="linenos"> 6</span>    data:NXdata
<span class="linenos"> 7</span>      @NX_class = NXdata
<span class="linenos"> 8</span>      @signal = &quot;counts&quot;
<span class="linenos"> 9</span>      @axes = &quot;two_theta&quot;
<span class="linenos">10</span>      @two_theta_indices = [0]
<span class="linenos">11</span>      counts:int32[15] = [1193, 4474, 53220, &#39;...&#39;, 1000]
<span class="linenos">12</span>        @units = &quot;counts&quot;
<span class="linenos">13</span>        @long_name = photodiode counts
<span class="linenos">14</span>      two_theta:float64[15] = [18.9094, 18.9096, &#39;...&#39;, 18.9122]
<span class="linenos">15</span>        @units = &quot;degrees&quot;
<span class="linenos">16</span>        @long_name = &quot;two_theta (degrees)&quot;
</pre></div>
</div>
</div>
<p id="index-16">NeXus files are easy to visualize.  Here, this data is plotted using <em>NeXPy</em> simply
by opening the NeXus data file and double-clicking the file name in the list:</p>
<div class="compound">
<p class="rubric" id="fig-verysimple-png">Plot of a very simple NeXus HDF5 Data file</p>
<a class="reference internal image-reference" href="_images/verysimple.png"><img alt="_images/verysimple.png" src="_images/verysimple.png" style="width: 60%;" />
</a>
</div>
<p>NeXus files are easy to create.  This example NeXus file was created using
a short Python program and the <em>h5py</em> package:</p>
<div class="compound">
<p class="rubric" id="fig-verysimple-py">Using Python to write a very simple NeXus HDF5 Data file</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="ch">#!/usr/bin/env python</span>
<span class="linenos"> 2</span><span class="sd">&#39;&#39;&#39;uses h5py to build the verysimple.nx5 data file&#39;&#39;&#39;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="kn">import</span> <span class="nn">h5py</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="n">angle</span> <span class="o">=</span> <span class="p">[</span><span class="mf">18.9094</span><span class="p">,</span> <span class="mf">18.9096</span><span class="p">,</span> <span class="mf">18.9098</span><span class="p">,</span> <span class="mf">18.91</span><span class="p">,</span>  <span class="mf">18.9102</span><span class="p">,</span> 
<span class="linenos"> 7</span>         <span class="mf">18.9104</span><span class="p">,</span> <span class="mf">18.9106</span><span class="p">,</span> <span class="mf">18.9108</span><span class="p">,</span> <span class="mf">18.911</span><span class="p">,</span> <span class="mf">18.9112</span><span class="p">,</span> 
<span class="linenos"> 8</span>         <span class="mf">18.9114</span><span class="p">,</span> <span class="mf">18.9116</span><span class="p">,</span> <span class="mf">18.9118</span><span class="p">,</span> <span class="mf">18.912</span><span class="p">,</span> <span class="mf">18.9122</span><span class="p">]</span>
<span class="linenos"> 9</span><span class="n">diode</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1193</span><span class="p">,</span> <span class="mi">4474</span><span class="p">,</span> <span class="mi">53220</span><span class="p">,</span> <span class="mi">274310</span><span class="p">,</span> <span class="mi">515430</span><span class="p">,</span> <span class="mi">827880</span><span class="p">,</span> 
<span class="linenos">10</span>         <span class="mi">1227100</span><span class="p">,</span> <span class="mi">1434640</span><span class="p">,</span> <span class="mi">1330280</span><span class="p">,</span> <span class="mi">1037070</span><span class="p">,</span> <span class="mi">598720</span><span class="p">,</span> 
<span class="linenos">11</span>         <span class="mi">316460</span><span class="p">,</span> <span class="mi">56677</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">]</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s1">&#39;verysimple.nx5&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="linenos">14</span>    <span class="n">f</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;entry&#39;</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="n">nxentry</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span><span class="s1">&#39;entry&#39;</span><span class="p">)</span>
<span class="linenos">17</span>    <span class="n">nxentry</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;NX_class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;NXentry&#39;</span>
<span class="linenos">18</span>    <span class="n">nxentry</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;data&#39;</span>
<span class="linenos">19</span>
<span class="linenos">20</span>    <span class="n">nxdata</span> <span class="o">=</span> <span class="n">nxentry</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="n">nxdata</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;NX_class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;NXdata&#39;</span>
<span class="linenos">22</span>    <span class="n">nxdata</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;signal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;counts&#39;</span>
<span class="linenos">23</span>    <span class="n">nxdata</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;axes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;two_theta&#39;</span>
<span class="linenos">24</span>    <span class="n">nxdata</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;two_theta_indices&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,]</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="n">tth</span> <span class="o">=</span> <span class="n">nxdata</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;two_theta&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">angle</span><span class="p">)</span>
<span class="linenos">27</span>    <span class="n">tth</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;degrees&#39;</span>
<span class="linenos">28</span>    <span class="n">tth</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;two_theta (degrees)&#39;</span>
<span class="linenos">29</span>
<span class="linenos">30</span>    <span class="n">counts</span> <span class="o">=</span> <span class="n">nxdata</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;counts&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">diode</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="n">counts</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;counts&#39;</span>
<span class="linenos">32</span>    <span class="n">counts</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;photodiode counts&#39;</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="a-set-of-data-storage-objects">
<span id="introduction-datastorageobjects"></span><h3><span class="section-number">1.1.1.2. </span>A Set of Data Storage Objects<a class="headerlink" href="#a-set-of-data-storage-objects" title="Link to this heading">¶</a></h3>
<p>If the design principles are followed, it will be easy for anyone browsing a
NeXus file to understand what it contains, without any prior information.
However, if you are writing specialized
visualization or analysis software, you will need to
know precisely what specific information is contained
in advance. For that reason, NeXus
provides a way of defining the format for
particular <span class="target" id="index-17"></span>instrument types,
such as time-of-flight small angle neutron scattering. This requires
some agreement by the relevant communities, but enables the development of
much more portable software.</p>
<p>The set of data storage objects is divided into three parts:
base classes, application definitions, and contributed definitions.
The base classes represent a set of components that define
the dictionary of all possible terms to be used with that component.
The application definitions specify the minimum required information to satisfy
a particular scientific or data analysis software interest.
The contributed definitions have been submitted by the scientific community
for incubation before they are adopted by the NIAC or for availability
to the community.</p>
<p>These instrument definitions are formalized as XML files, using
<a class="reference internal" href="nxdl.html#nxdl"><span class="std std-ref">NXDL</span></a>,
to specify the names of fields, and other NeXus data objects.
The following is an example of such a file for
the simple NeXus file shown above.</p>
<div class="compound">
<p class="rubric" id="fig-verysimple-nxdl-xml">A very simple NeXus Definition Language (NXDL) file</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><span class="w"> </span>
<span class="linenos"> 2</span><span class="nt">&lt;definition</span><span class="w"> </span>
<span class="linenos"> 3</span><span class="w">  </span><span class="na">xmlns=</span><span class="s">&quot;http://definition.nexusformat.org/nxdl/3.1&quot;</span><span class="w"> </span>
<span class="linenos"> 4</span><span class="w">  </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="linenos"> 5</span><span class="w">  </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd&quot;</span>
<span class="linenos"> 6</span><span class="w">  </span><span class="na">category=</span><span class="s">&quot;base&quot;</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="na">name=</span><span class="s">&quot;NXverysimple&quot;</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="na">type=</span><span class="s">&quot;group&quot;</span><span class="w"> </span><span class="na">extends=</span><span class="s">&quot;NXobject&quot;</span><span class="nt">&gt;</span>
<span class="linenos"> 9</span><span class="w">  </span>
<span class="linenos">10</span><span class="w">  </span><span class="nt">&lt;doc&gt;</span>
<span class="linenos">11</span><span class="w">    </span>A<span class="w"> </span>very<span class="w"> </span>simple<span class="w"> </span>NeXus<span class="w"> </span>NXDL<span class="w"> </span>file
<span class="linenos">12</span><span class="w">  </span><span class="nt">&lt;/doc&gt;</span>
<span class="linenos">13</span><span class="w">  </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;NXentry&quot;</span><span class="nt">&gt;</span>
<span class="linenos">14</span><span class="w">    </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;NXdata&quot;</span><span class="nt">&gt;</span>
<span class="linenos">15</span><span class="w">      </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;counts&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;NX_INT&quot;</span><span class="w">  </span><span class="na">units=</span><span class="s">&quot;NX_UNITLESS&quot;</span><span class="nt">&gt;</span>
<span class="linenos">16</span><span class="w">        </span><span class="nt">&lt;doc&gt;</span>counts<span class="w"> </span>recorded<span class="w"> </span>by<span class="w"> </span>detector<span class="nt">&lt;/doc&gt;</span>
<span class="linenos">17</span><span class="w">      </span><span class="nt">&lt;/field&gt;</span>
<span class="linenos">18</span><span class="w">      </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;two_theta&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;NX_FLOAT&quot;</span><span class="w"> </span><span class="na">units=</span><span class="s">&quot;NX_ANGLE&quot;</span><span class="nt">&gt;</span>
<span class="linenos">19</span><span class="w">        </span><span class="nt">&lt;doc&gt;</span>rotation<span class="w"> </span>angle<span class="w"> </span>of<span class="w"> </span>detector<span class="w"> </span>arm<span class="nt">&lt;/doc&gt;</span>
<span class="linenos">20</span><span class="w">      </span><span class="nt">&lt;/field&gt;</span>
<span class="linenos">21</span><span class="w">    </span><span class="nt">&lt;/group&gt;</span>
<span class="linenos">22</span><span class="w">  </span><span class="nt">&lt;/group&gt;</span>
<span class="linenos">23</span><span class="nt">&lt;/definition&gt;</span>
</pre></div>
</div>
</div>
<p>Complete examples of reading and writing NeXus data files are
provided <a class="reference internal" href="examples/index.html#examples"><span class="std std-ref">later</span></a>.
This chapter has several examples of writing and reading NeXus data files.
If you want to define the format of a particular type of NeXus file
for your own use, e.g. as the standard output from a program, you are encouraged
to <em>publish</em> the format using this XML format.
An example of how to do this is shown in the
<a class="reference internal" href="applying-nexus.html#nxdl-tutorial-creatingnxdlspec"><span class="std std-ref">Creating a NXDL Specification</span></a> section.</p>
</section>
<section id="a-set-of-subroutines">
<span id="introduction-setofsubroutines"></span><h3><span class="section-number">1.1.1.3. </span>A Set of Subroutines<a class="headerlink" href="#a-set-of-subroutines" title="Link to this heading">¶</a></h3>
<p>NeXus data files are high-level so the user only needs to
know how the data are referenced in the file but does not
need to be concerned where the data are stored in the file.  Thus, the data
are most easily accessed using a subroutine library tuned to the
specifics of the data format.</p>
<p>In the past, a data format was defined by a document
describing the precise location of every item in the data file,
either as row and column numbers in an ASCII file, or as record
and byte numbers in a binary file. It is the job of the subroutine
library to retrieve the data.  This subroutine library is commonly
called an application-programmer interface or API.</p>
<p>For example, in NeXus, a program to read in the wavelength of an experiment
would contain lines similar to the following:</p>
<div class="compound">
<p class="rubric" id="fig-ex-simple-c">Simple example of reading data using the NeXus API</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">NXopendata</span><span class="w"> </span><span class="p">(</span><span class="n">fileID</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;wavelength&quot;</span><span class="p">);</span>
<span class="linenos">2</span><span class="n">NXgetdata</span><span class="w"> </span><span class="p">(</span><span class="n">fileID</span><span class="p">,</span><span class="w"> </span><span class="n">lambda</span><span class="p">);</span>
<span class="linenos">3</span><span class="n">NXclosedata</span><span class="w"> </span><span class="p">(</span><span class="n">fileID</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>In this example, the program requests the value of the data that has
the label <code class="docutils literal notranslate"><span class="pre">wavelength</span></code>, storing the result in the variable lambda.
<code class="docutils literal notranslate"><span class="pre">fileID</span></code> is a file identifier that is provided by NeXus when the
file is opened.</p>
<p>We shall provide a more complete example when we have discussed the contents
of the NeXus files.</p>
</section>
<section id="scientific-community">
<span id="introduction-community"></span><h3><span class="section-number">1.1.1.4. </span>Scientific Community<a class="headerlink" href="#scientific-community" title="Link to this heading">¶</a></h3>
<p>NeXus began as a group of scientists with the goal of defining a
common data storage format
to exchange experimental results
and to exchange ideas about how to analyze them.</p>
<p>The <a class="reference internal" href="community.html#community"><span class="std std-ref">NeXus Community</span></a>
provides the scientific data, advice, and continued involvement
with the NeXus standard. NeXus provides a forum for the scientific
community to exchange ideas in data storage.</p>
<p>The NeXus International Advisory Committee (<span class="target" id="index-18"></span>NIAC) supervises the
development and maintenance of the NeXus common data
format for neutron, X-ray, and muon science
through the
NeXus class definitions and oversees the maintenance of the
NeXus Application Programmer Interface (NAPI) as well as the technical infrastructure.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="preface.html">Representation of data examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="preface.html#class-path-specification">Class path specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="motivations.html">Motivations for the NeXus standard in the Scientific Community</a><ul>
<li class="toctree-l2"><a class="reference internal" href="motivations.html#simple-plotting">Simple plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="motivations.html#unified-format-for-reduction-and-analysis">Unified format for reduction and analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="motivations.html#defined-dictionary-of-terms">Defined dictionary of terms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction-napi.html">NAPI: The NeXus Application Programming Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction-napi.html#how-do-i-write-a-nexus-file">How do I write a NeXus file?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction-napi.html#how-do-i-read-a-nexus-file">How do I read a NeXus file?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction-napi.html#how-do-i-browse-a-nexus-file">How do I browse a NeXus file?</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">1.1. NeXus Introduction</a><ul>
<li><a class="reference internal" href="#what-is-nexus">1.1.1. What is NeXus?</a><ul>
<li><a class="reference internal" href="#a-set-of-design-principles">1.1.1.1. A Set of Design Principles</a><ul>
<li><a class="reference internal" href="#example-of-a-nexus-file">Example of a NeXus File</a></li>
<li><a class="reference internal" href="#important-classes">Important Classes</a></li>
<li><a class="reference internal" href="#simple-example">Simple Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-set-of-data-storage-objects">1.1.1.2. A Set of Data Storage Objects</a></li>
<li><a class="reference internal" href="#a-set-of-subroutines">1.1.1.3. A Set of Subroutines</a></li>
<li><a class="reference internal" href="#scientific-community">1.1.1.4. Scientific Community</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="user_manual.html"
                          title="previous chapter"><span class="section-number">1. </span>NeXus: User Manual</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="preface.html"
                          title="next chapter">Representation of data examples</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <p>Have a Question? <a href="https://github.com/nexusformat/definitions/issues/new">Get help</a></p>
    <ul class="this-page-menu">
    <style>
		  .avatar-container {
		    display: flex;
		    align-items: center;
		  }
		
		  .avatar {
		    width: 32px;
		    height: 32px;
		    border-radius: 50%;
		    margin-right: 5px;
		  }
		</style>
		
    
    
		<div class="avatar-container">
      
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
<div id="google_search" style="display: none">
	<hr />
	<h3>Google search</h3>
	<form method="get" action="https://www.google.com/search">
		<table border="0" align="center" cellpadding="0">
			<tr>
				<td>
					<input type="text"   name="q" value="" />
				</td>
			</tr>
			<tr>
				<td align="center" style="font-size:75%">
					<input type="radio"  name="sitesearch" value="" />global
					<input type="radio"  name="sitesearch"
						value="manual.nexusformat.org" 
						checked />NeXus manual
					<input type="submit" value="Go" />
					<br />
				</td>
			</tr>
		</table>
	</form>                                
</div>
<script type="text/javascript">$('#google_search').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="preface.html" title="Representation of data examples"
             >next</a> |</li>
        <li class="right" >
          <a href="user_manual.html" title="1. NeXus: User Manual"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">nexus v2024.02 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="user_manual.html" ><span class="section-number">1. </span>NeXus: User Manual</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1.1. </span>NeXus Introduction</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="copyright.html">Copyright</a> 1996-2024, NIAC, https://www.nexusformat.org.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    </div>
  </body>
</html>