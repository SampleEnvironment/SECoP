


<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3.3.3.99. NXevent_data_em &#8212; nexus v2024.02 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxdoc.css?v=87629129" />
    <link rel="stylesheet" type="text/css" href="../../_static/details_summary_hide.css?v=30df4bca" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" href="../../_static/blockquote.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/rubric.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=04096e4a"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="3.3.3.100. NXevent_data_em_set" href="NXevent_data_em_set.html" />
    <link rel="prev" title="3.3.3.98. NXenergydispersion" href="NXenergydispersion.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="NXevent_data_em_set.html" title="3.3.3.100. NXevent_data_em_set"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="NXenergydispersion.html" title="3.3.3.98. NXenergydispersion"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">nexus v2024.02 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../ref_doc.html" ><span class="section-number">3. </span>NeXus: Reference Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">3.3. </span>NeXus Class Definitions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U"><span class="section-number">3.3.3. </span>Contributed Definitions</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3.3.3.99. </span>NXevent_data_em</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="nxevent-data-em">
<span id="index-0"></span><span id="id1"></span><h1><span class="section-number">3.3.3.99. </span>NXevent_data_em<a class="headerlink" href="#nxevent-data-em" title="Link to this heading">Â¶</a></h1>
<p><strong>Status</strong>:</p>
<blockquote>
<div><p>base class, extends <a class="reference internal" href="../base_classes/NXobject.html#nxobject"><span class="std std-ref">NXobject</span></a></p>
</div></blockquote>
<p><strong>Description</strong>:</p>
<blockquote>
<div><details class="summary-metadata-and-settings-of-an-electron-microscope-for-scans-and-images">
<summary>Metadata and settings of an electron microscope for scans and images. ...</summary><p>Metadata and settings of an electron microscope for scans and images.</p>
<p>The need for such a structuring of data is evident from the fact that
electron microscopes are dynamic. Oftentimes it suffices to calibrate the
instrument at the start of the session. Subsequently, data (images, spectra, etc.)
can be collected. Users may wish to take only a single scan or image and
complete their microscope session; however</p>
<p>frequently users are working much longer at the microscope, recalibrate and take
multiple data items (scans, images, spectra). Each item comes with own detector
and eventually on-the-fly processing settings and calibrations.</p>
<p>For the single data item use case one may argue that the need for an additional
grouping is redundant. Instead, the metadata could equally be stored inside
the respective groups of the top-level mandatory NXinstrument group.
On the flip side, even for a session with a single image, it would also not
harm to nest the data.</p>
<p>In fact, oftentimes scientists feel that there is a need to store details
about eventual drift of the specimen in its holder (if such data is available)
or record changes to the lens excitations or apertures used and/or changed.
Although current microscopes are usually equipped with stabilization
systems for many of the individual components, it can still be useful
to store time-dependent data in detail.</p>
<p>Another reason if not a need for having more finely granularizable options for
storing time-dependent data, is that over the course of a session one may
reconfigure the microscope. What is a reconfiguration? This could be the
change of an aperture mode because a scientist may first collect an image
with some aperture and then pick a different value and continue.
As the aperture affects the electron beam, it will affect the system.</p>
<p>Let aside for a moment the technology and business models, an EM could be
monitored (and will likely become so more in the future) for streaming out
spatio-temporal details about its components, locations of (hardware components) and objects within the region-of-interest. Eventually external stimuli are applied
and the specimen repositioned.</p>
<p>Some snapshot or integrated data from this stream are relevant for understanding
signal genesis and electron/ion-beam-sample interaction (paths). In such a generic
case it might be necessary to sync these streaming data with those intervals
in time when specific measurements are taken (spectra collected,
images taken, diffraction images indexed on-the-fly).</p>
<p>Therefore, both the instrument and specimen should always be considered as dynamic.
Scientists often report or feel (difficult to quantify) observations that
microscopes <em>perform differently</em> across sessions, without sometimes being
able to identify clear root causes. Users of the instrument may consider
such conditions impractical, or <em>too poor</em> and thus either abort their session
or try to bring the microscope first into a state where conditions are considered
more stable, better, or of some whatever high enough quality to reuse
data collection.</p>
<p>In all these cases it is practical to have a mechanism how time-dependent data
of the instrument state can be stored and documented in a interoperable way.
Where should these data be stored? With NeXus these data should not only be
stored in the respective instrument component groups of the top-level NXinstrument.
The reason is that this group should be reserved for as stable as possible
quantities which do not change over the session. Thereby we can avoid to store
repetitively that there is a certain gun or detector available but just store
the changes. This is exactly what the em_lab group is for inside NXevent_data_em.</p>
<p>Ideally, NXevent_data_em are equipped with a start_time and end_time
to represent a time interval (remind the idea of the instrument state stream)
during which the scientist considered (or practically has to consider)
the microscope (especially ebeam and specimen) as stable enough.</p>
<p>Arguably it is oftentimes tricky to specify a clear time interval when the
microscope is stable enough. Take for instance the acquisition of an image
or spectra stack. It is not fully possible (technically) to avoid that even
within a single image instabilities of the beam are faced and drift occurs.
Maybe in many cases this these instabilities are irrelevant but does this
warrant to create a data schema where either the microscope state can only
be stored very coarsely or one is forced to store it very finely?</p>
<p>This is a question of how one wishes to granularize pieces of information.
A possible solution is to consider each probed position, i.e. point in time
when the beam was not blanked and thus when the beam illuminates a portion of
the material, i.e. the interaction volume, whose signal contributions are then
counted by the one or multiple detector(s) as per pixel- or per voxel signal
in the region-of-interest.
NXevent_data_em in combination with the NXem application definition
allows researchers to document this. Noteworty to mention is that we understand
that in many cases realizing such a fine temporal and logical granularization
and data collection is hard to achieve in practice.</p>
<p>A frequently made choice, mainly for convenience, is that drift and scan distortions
are considered a feature or inaccuracy of the image and/or spectrum and thus
one de facto accepts that the microscope was not as stable as expected during
the acquisition of the image. We learn that the idea of a time interval
during the microscope session may be interpreted differently by different
users. Here we consider the choice to focus on images and spectra, and eventually
single position measurements as the smallest granularization level.
Which eventually may require to add optional NXprocess instances for respectively
collected data to describe the relevant distortions. Nevertheless, the distortions
are typically corrected for by numerical protocols. This fact warrants to
consider the distortion correction a computational workflow which can be
modelled as a chain of NXprocess instances each with own parameters.  an own
A more detailed overview of such computational steps to cope with scan distortions
is available in the literature:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://dx.doi.org/10.1016/j.ultramic.2015.12.002">C. Ophus et al.</a></p></li>
<li><p><a class="reference external" href="https://doi.org/10.1016/j.ultramic.2018.12.016">B. Berkels et al.</a></p></li>
<li><p><a class="reference external" href="https://link.springer.com/article/10.1186/s40679-015-0008-4">L. Jones et al.</a></p></li>
</ul>
<p>For specific simulation purposes, mainly in an effort to digitally repeat
or simulate the experiment, it is tempting to consider dynamics of the
instrument, implemented as time-dependent functional descriptions of
e.g. lens excitations, beam shape functions, trajectories of groups of
electrons, or detector noise models.</p>
<p>For now the preferred strategy to handle these cases is through
customizations of the specific fields within NXevent_data_em instances.</p>
<p>Another alternative could be to sample finer, eventually dissimilarly along
the time axi; however this may cause situations where an NXevent_data_em
instance does not contain specific measurements (i.e. images, spectra of
scientific relevance).</p>
<p>In this case one should better go for a customized application definition
with a functional property description inside members (fields or groups)
in NXevent_data_em instances; or resort to a specific offspring application
definition of NXem which documents metadata for tracking explicitly electrons
(with ray-tracing based descriptors/computational geometry descriptors)
or tracking of wave bundles.</p>
<p>This perspective on much more subtle time-dependent considerations of electron
microscopy can be advantageous also for storing details of time-dependent
additional components that are coupled to and/or synced with a microscope.</p>
<p>Examples include cutting-edge experiments where the electron beam gets
coupled/excited by e.g. lasers. In this case, the laser unit should be
registered under the top-level NXinstrument section. Its spatio-temporal
details could be stored inside respective additional groups of the NXinstrument
though inside instances of here detailed NXevent_data_em.</p>
</details></div></blockquote>
<p><strong>Symbols</strong>:</p>
<blockquote>
<div><p>No symbol table</p>
</div></blockquote>
<dl class="simple">
<dt><strong>Groups cited</strong>:</dt><dd><p><a class="reference internal" href="NXimage_set.html#nximage-set"><span class="std std-ref">NXimage_set</span></a>, <a class="reference internal" href="../base_classes/NXinstrument.html#nxinstrument"><span class="std std-ref">NXinstrument</span></a>, <a class="reference internal" href="NXinteraction_vol_em.html#nxinteraction-vol-em"><span class="std std-ref">NXinteraction_vol_em</span></a>, <a class="reference internal" href="NXspectrum_set.html#nxspectrum-set"><span class="std std-ref">NXspectrum_set</span></a>, <a class="reference internal" href="../base_classes/NXuser.html#nxuser"><span class="std std-ref">NXuser</span></a></p>
</dd>
</dl>
<p id="index-1"><strong>Structure</strong>:</p>
<blockquote>
<div><p id="index-2"><span id="nxevent-data-em-start-time-field"></span><strong>start_time</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-date-time"><span class="std std-ref">NX_DATE_TIME</span></a></p>
<blockquote>
<div><details class="summary-iso-8601-time-code-with-local-time-zone-offset-to-utc-information-included">
<summary>ISO 8601 time code with local time zone offset to UTC information included ...</summary><p>ISO 8601 time code with local time zone offset to UTC information included
when the snapshot time interval started. If the user wishes to specify an
interval of time that the snapshot should represent during which the instrument
was stable and configured using specific settings and calibrations,
the start_time is the start (left bound of the time interval) while
the end_time specifies the end (right bound) of the time interval.</p>
</details></div></blockquote>
<p id="index-3"><span id="nxevent-data-em-end-time-field"></span><strong>end_time</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-date-time"><span class="std std-ref">NX_DATE_TIME</span></a></p>
<blockquote>
<div><details class="summary-iso-8601-time-code-with-local-time-zone-offset-to-utc-information-included">
<summary>ISO 8601 time code with local time zone offset to UTC information included ...</summary><p>ISO 8601 time code with local time zone offset to UTC information included
when the snapshot time interval ended.</p>
</details></div></blockquote>
<p id="index-4"><span id="nxevent-data-em-event-identifier-field"></span><strong>event_identifier</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>Reference to a specific state and setting of the microscope.</p>
</div></blockquote>
<p id="index-5"><span id="nxevent-data-em-event-type-field"></span><strong>event_type</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><details class="summary-which-specific-event-measurement-type-examples-are">
<summary>Which specific event/measurement type. Examples are: ...</summary><p>Which specific event/measurement type. Examples are:</p>
<ul class="simple">
<li><p>In-lens/backscattered electron, usually has quadrants</p></li>
<li><p>Secondary_electron, image, topography, fractography, overview images</p></li>
<li><p>Backscattered_electron, image, Z or channeling contrast (ECCI)</p></li>
<li><p>Bright_field, image, TEM</p></li>
<li><p>Dark_field, image, crystal defects</p></li>
<li><p>Annular dark field, image (medium- or high-angle), TEM</p></li>
<li><p>Diffraction, image, TEM, or a comparable technique in the SEM</p></li>
<li><p>Kikuchi, image, SEM EBSD and TEM diffraction</p></li>
<li><p>X-ray spectra (point, line, surface, volume), composition EDS/EDX(S)</p></li>
<li><p>Electron energy loss spectra for points, lines, surfaces, TEM</p></li>
<li><p>Auger, spectrum, (low Z contrast element composition)</p></li>
<li><p>Cathodoluminescence (optical spectra)</p></li>
<li><p>Ronchigram, image, alignment utility specifically in TEM</p></li>
<li><p>Chamber, e.g. TV camera inside the chamber, education purposes.</p></li>
</ul>
<p>This field may also be used for storing additional information about the event.</p>
</details></div></blockquote>
<p id="nxevent-data-em-image-set-group"><strong>IMAGE_SET</strong>: (optional) <a class="reference internal" href="NXimage_set.html#nximage-set"><span class="std std-ref">NXimage_set</span></a></p>
<p id="nxevent-data-em-spectrum-set-group"><strong>SPECTRUM_SET</strong>: (optional) <a class="reference internal" href="NXspectrum_set.html#nxspectrum-set"><span class="std std-ref">NXspectrum_set</span></a></p>
<p id="nxevent-data-em-instrument-group"><strong>INSTRUMENT</strong>: (optional) <a class="reference internal" href="../base_classes/NXinstrument.html#nxinstrument"><span class="std std-ref">NXinstrument</span></a></p>
<p id="nxevent-data-em-user-group"><strong>USER</strong>: (optional) <a class="reference internal" href="../base_classes/NXuser.html#nxuser"><span class="std std-ref">NXuser</span></a></p>
<p id="nxevent-data-em-interaction-vol-em-group"><strong>INTERACTION_VOL_EM</strong>: (optional) <a class="reference internal" href="NXinteraction_vol_em.html#nxinteraction-vol-em"><span class="std std-ref">NXinteraction_vol_em</span></a></p>
</div></blockquote>
<section id="hypertext-anchors">
<h2>Hypertext Anchors<a class="headerlink" href="#hypertext-anchors" title="Link to this heading">Â¶</a></h2>
<p>List of hypertext anchors for all groups, fields,
attributes, and links defined in this class.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nxevent-data-em-end-time-field"><span class="std std-ref">/NXevent_data_em/end_time-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxevent-data-em-event-identifier-field"><span class="std std-ref">/NXevent_data_em/event_identifier-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxevent-data-em-event-type-field"><span class="std std-ref">/NXevent_data_em/event_type-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxevent-data-em-image-set-group"><span class="std std-ref">/NXevent_data_em/IMAGE_SET-group</span></a></p></li>
<li><p><a class="reference internal" href="#nxevent-data-em-instrument-group"><span class="std std-ref">/NXevent_data_em/INSTRUMENT-group</span></a></p></li>
<li><p><a class="reference internal" href="#nxevent-data-em-interaction-vol-em-group"><span class="std std-ref">/NXevent_data_em/INTERACTION_VOL_EM-group</span></a></p></li>
<li><p><a class="reference internal" href="#nxevent-data-em-spectrum-set-group"><span class="std std-ref">/NXevent_data_em/SPECTRUM_SET-group</span></a></p></li>
<li><p><a class="reference internal" href="#nxevent-data-em-start-time-field"><span class="std std-ref">/NXevent_data_em/start_time-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxevent-data-em-user-group"><span class="std std-ref">/NXevent_data_em/USER-group</span></a></p></li>
</ul>
<dl class="simple">
<dt><strong>NXDL Source</strong>:</dt><dd><p><a class="reference external" href="https://github.com/nexusformat/definitions/blob/main/contributed_definitions/NXevent_data_em.nxdl.xml">https://github.com/nexusformat/definitions/blob/main/contributed_definitions/NXevent_data_em.nxdl.xml</a></p>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">3.3.3.99. NXevent_data_em</a><ul>
<li><a class="reference internal" href="#hypertext-anchors">Hypertext Anchors</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="NXenergydispersion.html"
                          title="previous chapter"><span class="section-number">3.3.3.98. </span>NXenergydispersion</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="NXevent_data_em_set.html"
                          title="next chapter"><span class="section-number">3.3.3.100. </span>NXevent_data_em_set</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <p>Have a Question? <a href="https://github.com/nexusformat/definitions/issues/new">Get help</a></p>
    <ul class="this-page-menu">
    <style>
		  .avatar-container {
		    display: flex;
		    align-items: center;
		  }
		
		  .avatar {
		    width: 32px;
		    height: 32px;
		    border-radius: 50%;
		    margin-right: 5px;
		  }
		</style>
		
    
    
		<div class="avatar-container">
      
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
<div id="google_search" style="display: none">
	<hr />
	<h3>Google search</h3>
	<form method="get" action="https://www.google.com/search">
		<table border="0" align="center" cellpadding="0">
			<tr>
				<td>
					<input type="text"   name="q" value="" />
				</td>
			</tr>
			<tr>
				<td align="center" style="font-size:75%">
					<input type="radio"  name="sitesearch" value="" />global
					<input type="radio"  name="sitesearch"
						value="manual.nexusformat.org" 
						checked />NeXus manual
					<input type="submit" value="Go" />
					<br />
				</td>
			</tr>
		</table>
	</form>                                
</div>
<script type="text/javascript">$('#google_search').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="NXevent_data_em_set.html" title="3.3.3.100. NXevent_data_em_set"
             >next</a> |</li>
        <li class="right" >
          <a href="NXenergydispersion.html" title="3.3.3.98. NXenergydispersion"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">nexus v2024.02 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../ref_doc.html" ><span class="section-number">3. </span>NeXus: Reference Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">3.3. </span>NeXus Class Definitions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" ><span class="section-number">3.3.3. </span>Contributed Definitions</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3.3.3.99. </span>NXevent_data_em</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../../copyright.html">Copyright</a> 1996-2024, NIAC, https://www.nexusformat.org.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    </div>
  </body>
</html>